// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_PRISMA_URL")
}

enum Role {
  USER
  ADMIN
}

enum Type {
  EMPLOYEE
  COMPANY
}

model Account {
  id      Int    @id @default(autoincrement())
  email   String @unique
  role    Role   @default(USER)
  type    Type   @default(COMPANY)
  clerkId String @unique

  company  Company?
  Employee Employee?
}

model Employee {
  id        Int     @id @default(autoincrement())
  name      String
  Account   Account @relation(fields: [accountId], references: [id])
  accountId Int     @unique
}

model Company {
  id   Int    @id @default(autoincrement())
  name String

  jobOffers JobOffer[]
  Account   Account    @relation(fields: [accountId], references: [id])
  accountId Int        @unique
}

enum Skill {
  JAVASCRIPT
  PYTHON
  JAVA
  CPP
  RUBY
  PHP
  HTML
  CSS
  SQL
  REACT
  ANGULAR
  NODEJS
  CSHARP
  SWIFT
  GO
}

enum ExperienceLevel {
  TRAINEE
  JUNIOR
  MID
  SENIOR
}

enum JobType {
  FULL_TIME
  PART_TIME
}

enum EmploymentType {
  CONTRACT
  PERMANENT
  B2B
}

model JobOffer {
  id              Int             @id @default(autoincrement())
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
  title           String
  description     String
  experienceLevel ExperienceLevel
  skills          Skill[]         @default([])
  location        String
  jobType         JobType
  employmentType  EmploymentType
  minSalary       Int
  maxSalary       Int
  company         Company?        @relation(fields: [companyId], references: [id])
  companyId       Int?
}
